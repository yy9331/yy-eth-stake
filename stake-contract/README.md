# YY ä»£å¸è´¨æŠ¼åˆçº¦

è¿™æ˜¯ä¸€ä¸ªåŸºäºä»¥å¤ªåŠçš„ YY ä»£å¸è´¨æŠ¼åˆçº¦é¡¹ç›®ï¼Œæ”¯æŒç”¨æˆ·è´¨æŠ¼ ETH è·å¾— YY ä»£å¸å¥–åŠ±ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

- **å¤šæ± å­æ”¯æŒ**: æ”¯æŒå¤šä¸ªè´¨æŠ¼æ± ï¼Œæ¯ä¸ªæ± å­å¯ä»¥æœ‰ä¸åŒçš„æƒé‡å’Œå‚æ•°
- **ETH è´¨æŠ¼**: ç”¨æˆ·å¯ä»¥ç›´æ¥è´¨æŠ¼ ETH è·å¾— YY ä»£å¸å¥–åŠ±
- **å¯å‡çº§åˆçº¦**: ä½¿ç”¨ OpenZeppelin çš„å¯å‡çº§ä»£ç†æ¨¡å¼
- **æƒé™ç®¡ç†**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **æš‚åœåŠŸèƒ½**: æ”¯æŒæš‚åœè´¨æŠ¼å’Œé¢†å–åŠŸèƒ½
- **è§£è´¨æŠ¼æœºåˆ¶**: æ”¯æŒç”³è¯·è§£è´¨æŠ¼å’Œé”å®šæœŸæœºåˆ¶

## ğŸ“ é¡¹ç›®ç»“æ„

```
stake-contract/
â”œâ”€â”€ contracts/
â”‚   â”œâ”€â”€ YY.sol              # YY ä»£å¸åˆçº¦ (ERC20)
â”‚   â””â”€â”€ YYStake.sol         # è´¨æŠ¼åˆçº¦ (å¯å‡çº§)
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ deploy.js           # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ addPool.js          # æ·»åŠ è´¨æŠ¼æ± è„šæœ¬
â”‚   â””â”€â”€ YYStake.js          # å¤‡ç”¨éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ YYStake.test.js     # åŸºç¡€åŠŸèƒ½æµ‹è¯•
â”‚   â””â”€â”€ YYStakeAdvanced.test.js # é«˜çº§åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ ignition/
â”‚   â””â”€â”€ modules/
â”‚       â””â”€â”€ YY.js           # Ignition éƒ¨ç½²æ¨¡å—
â””â”€â”€ README.md
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Solidity**: æ™ºèƒ½åˆçº¦å¼€å‘è¯­è¨€
- **Hardhat**: ä»¥å¤ªåŠå¼€å‘ç¯å¢ƒ
- **OpenZeppelin**: å®‰å…¨åˆçº¦åº“
- **Chai**: æµ‹è¯•æ¡†æ¶
- **Ethers.js**: ä»¥å¤ªåŠäº¤äº’åº“

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
npm install
```

## ğŸ§ª è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npx hardhat test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
npx hardhat test test/YYStake.test.js
npx hardhat test test/YYStakeAdvanced.test.js
```

## ğŸš€ éƒ¨ç½²åˆçº¦

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ deploy.js è„šæœ¬

```bash
# éƒ¨ç½²åˆ° Sepolia æµ‹è¯•ç½‘
npx hardhat run scripts/deploy.js --network sepolia

# éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œ
npx hardhat run scripts/deploy.js --network localhost
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨ Ignition éƒ¨ç½²

```bash
# éƒ¨ç½² YY ä»£å¸
npx hardhat ignition deploy ./ignition/modules/YY.js

# éƒ¨ç½²è´¨æŠ¼åˆçº¦
npx hardhat run scripts/deploy.js --network sepolia
```

## âš™ï¸ é…ç½®ç½‘ç»œ

åœ¨ `hardhat.config.js` ä¸­é…ç½®ä½ çš„ç½‘ç»œï¼š

```javascript
module.exports = {
  networks: {
    sepolia: {
      url: `https://sepolia.infura.io/v3/${INFURA_PROJECT_ID}`,
      accounts: [PRIVATE_KEY]
    }
  }
}
```

## ğŸ”§ æ·»åŠ è´¨æŠ¼æ± 

éƒ¨ç½²åˆçº¦åï¼Œéœ€è¦æ·»åŠ è´¨æŠ¼æ± ï¼š

```bash
# æ›´æ–° scripts/addPool.js ä¸­çš„åˆçº¦åœ°å€
# ç„¶åè¿è¡Œ
npx hardhat run scripts/addPool.js --network sepolia
```

## ğŸ“‹ åˆçº¦åŠŸèƒ½

### YY ä»£å¸åˆçº¦ (YY.sol)
- **ERC20 æ ‡å‡†**: å®Œå…¨å…¼å®¹ ERC20 æ ‡å‡†
- **åˆå§‹ä¾›åº”é‡**: 10,000,000 YY ä»£å¸
- **ç²¾åº¦**: 18 ä½å°æ•°

### è´¨æŠ¼åˆçº¦ (YYStake.sol)
- **è´¨æŠ¼åŠŸèƒ½**: ç”¨æˆ·è´¨æŠ¼ ETH è·å¾— YY å¥–åŠ±
- **å¥–åŠ±è®¡ç®—**: åŸºäºåŒºå—æ—¶é—´å’Œè´¨æŠ¼æƒé‡
- **è§£è´¨æŠ¼æœºåˆ¶**: æ”¯æŒç”³è¯·è§£è´¨æŠ¼å’Œé”å®šæœŸ
- **å¤šæ± å­**: æ”¯æŒå¤šä¸ªè´¨æŠ¼æ± 
- **ç®¡ç†å‘˜åŠŸèƒ½**: è®¾ç½®å‚æ•°ã€æš‚åœåŠŸèƒ½ç­‰

## ğŸ¯ ä¸»è¦å‡½æ•°

### ç”¨æˆ·å‡½æ•°
- `depositETH()`: è´¨æŠ¼ ETH
- `claim(uint256 _pid)`: é¢†å– YY å¥–åŠ±
- `unstake(uint256 _pid, uint256 _amount)`: ç”³è¯·è§£è´¨æŠ¼
- `withdraw(uint256 _pid)`: æå–è§£è´¨æŠ¼çš„ ETH
- `pendingYY(uint256 _pid, address _user)`: æŸ¥è¯¢å¾…é¢†å–å¥–åŠ±

### ç®¡ç†å‘˜å‡½æ•°
- `addPool()`: æ·»åŠ è´¨æŠ¼æ± 
- `setYYPerBlock()`: è®¾ç½®æ¯åŒºå—å¥–åŠ±
- `pauseWithdraw()`: æš‚åœæå–
- `unpauseWithdraw()`: æ¢å¤æå–
- `pauseClaim()`: æš‚åœé¢†å–
- `unpauseClaim()`: æ¢å¤é¢†å–

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **å¯å‡çº§åˆçº¦**: ä½¿ç”¨ UUPS ä»£ç†æ¨¡å¼
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **æš‚åœæœºåˆ¶**: ç´§æ€¥æƒ…å†µä¸‹å¯æš‚åœåŠŸèƒ½
- **è¾“å…¥éªŒè¯**: ä¸¥æ ¼çš„å‚æ•°éªŒè¯
- **æº¢å‡ºä¿æŠ¤**: ä½¿ç”¨ SafeMath é˜²æ­¢æº¢å‡º

## ğŸ§ª æµ‹è¯•è¦†ç›–

- âœ… åˆçº¦åˆå§‹åŒ–æµ‹è¯•
- âœ… è´¨æŠ¼åŠŸèƒ½æµ‹è¯•
- âœ… å¥–åŠ±è®¡ç®—æµ‹è¯•
- âœ… è§£è´¨æŠ¼æµç¨‹æµ‹è¯•
- âœ… ç®¡ç†å‘˜åŠŸèƒ½æµ‹è¯•
- âœ… å¤šç”¨æˆ·åœºæ™¯æµ‹è¯•
- âœ… è¾¹ç•Œæƒ…å†µæµ‹è¯•
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•

## ğŸŒ å‰ç«¯é›†æˆ

å‰ç«¯é¡¹ç›®ä½äº `../stake-fe/` ç›®å½•ï¼ŒåŒ…å«ï¼š

- **React + TypeScript**: ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Wagmi**: ä»¥å¤ªåŠäº¤äº’åº“
- **RainbowKit**: é’±åŒ…è¿æ¥ç»„ä»¶
- **Tailwind CSS**: æ ·å¼æ¡†æ¶

## ğŸ“ ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
PRIVATE_KEY=ä½ çš„ç§é’¥
INFURA_PROJECT_ID=ä½ çš„ Infura é¡¹ç›® ID
ETHERSCAN_API_KEY=ä½ çš„ Etherscan API å¯†é’¥
```

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **ç§é’¥å®‰å…¨**: æ°¸è¿œä¸è¦å°†ç§é’¥æäº¤åˆ°ä»£ç ä»“åº“
2. **æµ‹è¯•ç½‘ç»œ**: éƒ¨ç½²å‰å…ˆåœ¨æµ‹è¯•ç½‘ç»œéªŒè¯
3. **åˆçº¦å‡çº§**: å‡çº§å‰ä»”ç»†æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
4. **Gas è´¹ç”¨**: ç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿçš„ ETH æ”¯ä»˜ Gas

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. ç½‘ç»œé…ç½®æ˜¯å¦æ­£ç¡®
2. ç§é’¥æ˜¯å¦æœ‰è¶³å¤Ÿä½™é¢
3. åˆçº¦æ˜¯å¦å·²æ­£ç¡®éƒ¨ç½²
4. è´¨æŠ¼æ± æ˜¯å¦å·²æ·»åŠ 

## ğŸ“„ è®¸å¯è¯

MIT License